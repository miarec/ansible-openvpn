##############################################
# Client-side OpenVPN 2.0 config file        #
# for connecting to multi-client server.     #
#                                            #
# Generated by Ansible                       #
# https://github.com/miarec/ansible-openvpn  #
##############################################

# Authentication Configuration.
auth-user-pass

# Connection Configuration.
client
dev tun
proto {{ openvpn_vpn_protocol }}
remote {{ hostname }} {{ openvpn_vpn_port }}
resolv-retry infinite
nobind
persist-key
persist-tun
remote-cert-tls server
cipher AES-256-GCM
auth SHA256

# Logging Configuration.
verb {{ openvpn_client_log_verb }}
key-direction 1

#Client Certificates
<ca>
{{ ca_cert.content|b64decode }}</ca>
<cert>
{{ item.0.content|b64decode }}</cert>
<key>
{{ item.1.content|b64decode }}</key>
<tls-crypt>
{{ tls_cert.content|b64decode }}</tls-crypt>
